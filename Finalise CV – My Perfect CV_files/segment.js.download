"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},writable:!0,configurable:!0});var APP=APP||{},jsUtility=(APP.segmentConfig={cookieDomain:"myperfectcv.co.uk",cookiePath:"/"},APP.isStorageEnabled=!0,"object"==typeof PS&&"object"==typeof PS.Utility&&"function"==typeof PS.Utility.isStorageEnabled&&(APP.isStorageEnabled=PS.StrgEnabled),{call_Ajax:function(e,t,n,o,i,a,r,s,l){var c=new XMLHttpRequest;c.onload=function(){4!=c.readyState||201!=c.status&&200!=c.status?l&&i&&i():i&&(a?i(c.responseText,a):i(c.responseText))},"GET"!=t||s||(e=-1==e.indexOf("?")?e+"?v="+(new Date).getTime():e+"&v="+(new Date).getTime()),c.open(t,e,n),o&&(c.withCredentials=!0),c.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r?c.send(r):c.send(),c.onerror=function(e){l&&i&&i()},c.ontimeout=function(e){l&&i&&i()}},getHostURL:function(){var e,t;return false?window.PRIMARY_HOST_URL||"https://www.myperfectcv.co.uk/":(e=document.domain.substring(0,document.domain.indexOf(".")),t=false,"https://"+(e=-1==e.indexOf("iso")&&-1<e.indexOf("-")&&!t?e.split("-")[0]:e)+document.domain.slice(document.domain.indexOf(".")).replace(/\//g,"")+"/")},getAssetsHostUrl:function(){return ""||jsUtility.getHostURL()},set_Cookie:function(e,t,n,o=!1){var i=new Date,o=(i.setDate(i.getDate()+n),(o?encodeURIComponent:escape)(t)+(null==n?"":"; expires="+i.toUTCString())),t=document.domain.substring(document.domain.indexOf(".")),n=(false&&(t="."+APP.segmentConfig.cookieDomain),";SameSite=None; Secure");document.cookie=t?e+"="+o+n+";domain="+t+";path=/":e+"="+o+n+";path=/"},get_Cookie:function(e){var t=document.cookie,n=t.indexOf(" "+e+"=");return t=-1==(n=-1==n?t.indexOf(e+"="):n)?null:(n=t.indexOf("=",n)+1,-1==(e=t.indexOf(";",n))&&(e=t.length),unescape(t.substring(n,e)))},htmlEscape:function(e){if(e)return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},htmlUnescape:function(e){if(e)return e.replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"and")},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},getCookieKeyValPair:function(e,t,n){var o="",e=jsUtility.get_Cookie(e);if(null!=e&&0<e.length){var i=e.split(n);if(0<i.length&&-1!=i[0].indexOf(":"))for(var a in i)if(-1!=i[a].split(":")[0].trim().indexOf(t)){o=i[a].split(":")[1].trim();break}}return o},getDeviceType:function(){var e,t=''||"visitinfo",t=jsUtility.get_Cookie(t);return t&&-1!==t.indexOf("DeviceType")&&(e=t.indexOf("DeviceType"),e=t.substring(e).split("]&[")[0].split(",")[1].trim()),e=e||(navigator.userAgent.match(/iPad|Tablet|PlayBook/i)?"tablet":navigator.userAgent.match(/Mobile|Android|webOS|iPhone|iPod|Blackberry|IEMobile|Opera Mini/i)?"mobile":"desktop")},loadJs:function(e,t){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.async=null==t||t,(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,e)}}),_segmentFirePageLoadEvent="undefined"!=typeof false&&false;false&&jsUtility.loadJs(jsUtility.getAssetsHostUrl()+"blob/common/consent-manager/cookie-consent.min.js",!0);var ManageFS=(n=>{function t(){var e=jsUtility.get_Cookie("fs_user"),t=new Date((new Date).toUTCString()).getTime();e&&0!=e&&(e=((e,t)=>{var n=[1e3,60,60,24],o=[e-t];for(i=0;i<n.length;i++)o.push(parseInt(o[i]/n[i])),o[i]=o[i]%n[i];return 30<o[1]&&(o[2]=o[2]+1),o.reverse()})(t,e))&&2<e.length&&(0<e[0]||0<e[1]||30<e[2])&&n.updateSessionCount(),jsUtility.set_Cookie("fs_user",t,3)}return n.updateSessionCount=function(){jsUtility.call_Ajax(jsUtility.getHostURL()+"c/fs/api/v1/fullstory/sessions/counter?update=true","POST",!0,!0,null,null,null,!0,!0)},n.ManageInactivityTime=function(){t();["mousedown","mousemove","keypress","scroll","touchstart"].forEach(function(e){document.addEventListener(e,t,!0)})},n.loadFullStory=function(){var e=0==integrations.All,t=(window.segment&&(e=(t=window.segment).DisableFullStory||e&&!(t.Integrations&&(t.Integrations.FullStory||t.Integrations.Fullstory)),t.ConsentIntegrations)&&(t.ConsentIntegrations.hasOwnProperty("FullStory")||t.ConsentIntegrations.hasOwnProperty("Fullstory"))&&(e=e||!(t.ConsentIntegrations.FullStory||t.ConsentIntegrations.Fullstory)),jsUtility.get_Cookie("fs_user"));return!e&&"0"!=t&&null!=t&&!0},n})((ManageFS=ManageFS||{})||{}),writeKey="1XW3PdtJ1rXknuJde8PDndh1xEIqbgkL",smartLookKey='',segment_portal_name="MyPerfectCV",segment_portal_locale=null,integrations={"All":false,"Mixpanel":true,"Segment.io":true,"Webhooks":true,"Webhook":true},portalGroup="undefined";function PageCall(e,t){"undefined"!=typeof analytics&&(null!=t?analytics.page(e,t):analytics.page(e))}function TrackCall(e,t){"undefined"!=typeof analytics&&(null!=t?analytics.track(e,t):analytics.track(e))}function proceedWithTracking(e,t,n,o,i,a){var r=window.segment&&window.segment.CommonProps?JSON.parse(JSON.stringify(window.segment.CommonProps)):{},s=(o||(s=''||"UserStatus",o=jsUtility.getCookieKeyValPair(s,"IsUserLoggedIn",",")),o&&"true"==o.toString().toLowerCase()?"TRUE":"FALSE"),o=window.location.pathname,l=window.location.href,c=(false||"HELP"===portalGroup?(r[false?"authenticated user":"Login Status"]=s,r["current url short"]=o,r["current full url"]=l):(r["Login Status"]=s,r.path=o,r.url=l),{});if(t)for(var g in t)t[g]&&(r[g]=t[g],c[g]=t[g]);false?(r.session=jsUtility.get_Cookie("vsuid"),r.product="Web",r["device length size"]=screen.height,r["device width size"]=screen.width):("HELP"===portalGroup?(r.visitId=jsUtility.get_Cookie("vsuid"),r.productCd=window.location.pathname.includes("/jletter")||window.location.href.includes("doctypecode=letr")?"CB3":"RB3"):(r.visitId=jsUtility.get_Cookie("vsuid"),r.Platform="Web"),r.$screen_height=screen.height,r.$screen_width=screen.width),"function"==typeof jsUtility.getDeviceType&&(r["device type"]=jsUtility.getDeviceType().toLowerCase()),segment_portal_name&&(r[false||"HELP"===portalGroup?"website":"Portal"]=segment_portal_name);s=APP.segment.getSegmentContext(n,i);switch(void 0!==s&&null!=s&&(r[false||"HELP"===portalGroup?"language":"locale"]=s),e){case"identify":FireSegmentIOIdentify(n,c,i);break;case"page":var u=jsUtility.get_Cookie("vstrType"),u=(r[false||"HELP"==portalGroup?"session type":"Visitor Type"]=u?"Returning":"New",false&&(r.referrer=document.referrer,r.userId=n),u||jsUtility.set_Cookie("vstrType",1,1825),APP.segment.getGAId());u&&r&&0<u.length&&(r.GA_Id=u),FireSegmentIOPage("",r);break;default:FireSegmentIOTrack(e,r,a)}APP.segment.setMixpanelPropsCookie(0)}if("undefined"!=typeof SEGMENT_EVENTS_TO_ALL&&SEGMENT_EVENTS_TO_ALL&&(integrations={"Google Analytics":false,"Qualaroo":false,"Inspectlet":false,"Crazy Egg":false, "Qualtrics":false}),APP.segment=(d=>(d.getGAId=function(){var e=null;try{var t,n=jsUtility.get_Cookie("_ga");n&&0<n.trim().length&&(e=(t=n.split("."))[t.length-2]+"."+t[t.length-1])}catch(e){console.log(e)}return e},d.clearUserTraits=function(){"undefined"!=typeof analytics&&void 0!==analytics.user&&analytics.user().traits({})},d.setMixpanelPropsCookie=function(e){var t,n,o,i,a,r,s,l,c,g,u="";try{"undefined"!=typeof mixpanel&&void 0!==mixpanel.get_distinct_id?(t="desktop","function"==typeof jsUtility.getDeviceType&&(t=jsUtility.getDeviceType().toLowerCase()),mixpanel.register({"device type":t}),(n=mixpanel._.info.properties()).hasOwnProperty("$browser_version")&&(n.$browser_version=Math.floor(n.$browser_version)),n.hasOwnProperty("time")&&(n.time=Math.floor(n.time)),o=mixpanel.persistence.properties(),(u=JSON.stringify(Object.assign(n,o))).$current_url=location.href,l=u,c={},g=JSON.parse(l),Object.keys(g).forEach(function(e,t){-1==e.indexOf("Experiment:")&&(c[e]=g[e])}),u=JSON.stringify(c),i=u,a={},r=["id","distinct_id","userId","Platform","device type","time"],s=JSON.parse(i),Object.keys(s).forEach(function(e,t){(0==e.indexOf("$")||0==e.indexOf("mp_")||0==e.indexOf("utm")||-1<r.indexOf(e))&&(a[e]=s[e])}),u=JSON.stringify(a),jsUtility.set_Cookie("mixpanelprops",u,null,false)):++e<20&&setTimeout(function(){d.setMixpanelPropsCookie(e)},100)}catch(e){console.log("error in mixpanel properties fetching")}},d.load=function(){var e=0==integrations.All,t="qa"===new URLSearchParams(window.location.search).get("utm_source")??!1,n=(window.segment&&(e=(n=window.segment).DisableFullStory||e&&!(n.Integrations&&n.Integrations.FullStory),n.ConsentIntegrations)&&n.ConsentIntegrations.hasOwnProperty("FullStory")&&(e=e||!n.ConsentIntegrations.FullStory),jsUtility.get_Cookie("fs_user"));false||"HELP"==portalGroup||e||"0"==n?APP.segment.loadAnalytics(!1):null!=n?APP.segment.loadAnalytics(!0):null==n&&(0!=Math.floor(100*Math.random()+1)%parseFloat(20)||t?(jsUtility.set_Cookie("fs_user",0,1),APP.segment.loadAnalytics(!1)):jsUtility.call_Ajax(jsUtility.getHostURL()+"c/fs/api/v1/fullstory/sessions/counter","POST",!0,!0,function(e){try{var t=JSON.parse(e).isNewSessionAllowed;t||jsUtility.set_Cookie("fs_user",0,1),APP.segment.loadAnalytics(t)}catch(e){jsUtility.set_Cookie("fs_user",0,1),APP.segment.loadAnalytics(!1)}},null,null,!0,!0))},d.loadAnalytics=function(e){var o=window.analytics=window.analytics||[];if(!o.initialize)if(o.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{o.invoked=!0,o.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"],o.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),o.push(e),o}};for(var t=0;t<o.methods.length;t++){var n=o.methods[t];o[n]=o.factory(n)}o.load=function(e,t){var n=document.createElement("script"),e=(n.type="text/javascript",n.defer=!0,n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js",document.getElementsByTagName("script")[0]);e.parentNode.insertBefore(n,e),o._loadOptions=t},o.SNIPPET_VERSION="4.1.0",1==e&&ManageFS.ManageInactivityTime();e=APP.segment.getIntegrationObject(!0),e=(e?o.load(writeKey,{integrations:e}):o.load(writeKey),!1);if("function"==typeof segmentReady)try{segmentReady(),e=!0}catch(n){console.log(n)}o.ready((e=>{if(d.setMixpanelPropsCookie(0),"function"==typeof segmentReady&&!e)try{segmentReady()}catch(e){console.log(e)}_segmentFirePageLoadEvent&&TrackEvents("page"),"HELP"==portalGroup&&d.loadSmartLookSession()})(e))}},d.getIntegrationObject=function(e){var t=Object.assign({},integrations);if(window.segment&&window.segment.Integrations)if(t&&0!=t.All)for(var n in segment.Integrations)segment.Integrations[n]&&"all"!=n.toLowerCase()?t.hasOwnProperty(n)&&delete t[n]:0<n.length&&"all"!=n.toLowerCase()&&(t[n]=segment.Integrations[n]);else for(var n in segment.Integrations)segment.Integrations[n]||"all"==n.toLowerCase()?0<n.length&&"all"!=n.toLowerCase()&&(t[n]=segment.Integrations[n]):t.hasOwnProperty(n)&&delete t[n];if(!e&&window.segment&&window.segment.ConsentIntegrations){var o=window.segment.ConsentIntegrations;if(t)if(0!=t.All)for(var n in o)o[n]&&t.hasOwnProperty(n)?t[n]=!0:0==o[n]&&(t[n]=o[n]);else for(var n in t)o.hasOwnProperty(n)&&(t[n]=o[n])}e=ManageFS.loadFullStory();return t&&(t.hasOwnProperty("FullStory")&&delete t.FullStory,t.hasOwnProperty("Fullstory")&&delete t.Fullstory,0!=t.All?0==e&&(t.FullStory=!1,t.Fullstory=!1):1==e&&(t.FullStory=!0,t.Fullstory=!0)),jsUtility.get_Cookie("isproteus")&&(t.Mixpanel=!1),t},d.getSegmentContext=function(e,t){return segment_portal_locale||(e&&null!=t&&null!=t.locale&&void 0!==t&&void 0!==t.locale&&"undefined"!=typeof Storage&&APP.isStorageEnabled&&localStorage.setItem("segment_context_locale",t.locale),APP.isStorageEnabled?localStorage.getItem("segment_context_locale"):"")},d.getSegmentLocaleByUrl=function(){var e,t=window.location.pathname.split("/"),n=window.location.host.split("."),o=["lp","eb"],n=n[n.length-1];return"com"==(n="ar"==n?"sa":n)?(t[1]&&2==t[1].length&&!o.includes(t[1])&&(n=t[1]),t[2]&&2==t[2].length&&!o.includes(t[2])&&(e=t[2])):t[1]&&"en"==t[1]&&(e="en"),n&&e?e.toLowerCase()+"-"+n.toUpperCase():n&&!e?("nl"==n.toLowerCase()?e="nl":"dk"==n.toLowerCase()?e="da":"se"==n.toLowerCase()?e="sv":"br"==n.toLowerCase()?e="pt":"mx"==n.toLowerCase()?e="es":"pt"==n.toLowerCase()?e="pt":"sa"==n.toLowerCase()?e="ar":"fi"==n.toLowerCase()?e="fi":"no"==n.toLowerCase()?e="nb":"gr"==n.toLowerCase()?e="el":"ro"==n.toLowerCase()?e="ro":"sk"==n.toLowerCase()?e="sk":"cz"==n.toLowerCase()?e="cs":"hu"==n.toLowerCase()?e="hu":"id"==n.toLowerCase()?e="id":"kr"==n.toLowerCase()?e="ko":"jp"==n.toLowerCase()&&(e="ja"),e.toLowerCase()+"-"+n.toUpperCase()):""},d.loadSmartLookSession=function(){var e,t,n,o=jsUtility.get_Cookie("vsuid");"1"===jsUtility.get_Cookie("smrtlk_session")&&(n="window.smartlook || (function (d) { var o = smartlook = function () { o.api.push(arguments) }, h = d.getElementsByTagName('head')[0];var c = d.createElement('script'); o.api = new Array(); c.async = true; c.type = 'text/javascript';c.charset = 'utf-8'; c.src = 'https:///rec.smartlook.com/recorder.js'; h.appendChild(c); })(document);    smartlook('init', '"+smartLookKey+"');",e=document.getElementsByTagName("head")[0],(t=document.createElement("script")).type="text/javascript",t.text=n,t.defer=!0,e.appendChild(t),null!=(n=d.getUserId())?smartlook("identify",o,{sessionid:o,"user id":n}):smartlook("identify",o,{sessionid:o}))},d.getUserId=function(){var e=jsUtility.get_Cookie("UserStatus");if(e&&""!=e){e=JSON.parse(e);if(e&&e.User.UserId)return e.User.UserId}},d))(APP.segment||{}),false&&APP.isStorageEnabled&&localStorage.setItem("segment_context_locale",APP.segment.getSegmentLocaleByUrl()),window.TrackEventsV2=function(e,t,n,o,i,a){TrackEvents(e,t,n,o,!0,i,a)},window.TrackEvents=function(t,n,o,i,e,a,r,s=!1){if(s||false){let e=0;var l=setInterval(()=>{e++,(jsUtility.get_Cookie("vsuid")||100<=e)&&(clearInterval(l),proceedWithTracking(t,n,o,i,a,r))},100)}else proceedWithTracking(t,n,o,i,a,r)},window.TrackAlias=function(e){FireSegmentIOAlias(e)},window.FireSegmentIOIdentify=function(e,t,n){var o,i={},n=(null==(t=t||null)&&(t={}),APP.segment.getSegmentContext(e,n));"undefined"!=typeof analytics&&(o=APP.segment.getIntegrationObject(),e&&void 0!==n&&null!=n&&(t.locale=n),i.integrations=o,e?analytics.identify(e,t,i,APP.segment.clearUserTraits()):analytics.identify(t,i),analytics.ready(function(){void 0!==analytics.user&&analytics.user().traits({})}))},window.FireSegmentIOPage=function(e,t){try{var n;t=t||null,"undefined"!=typeof analytics&&(n=APP.segment.getIntegrationObject(),null!=t?analytics.page(e,t,{integrations:n}):analytics.page(e,{IsPropsNull:!0},{integrations:n}))}catch(e){console.log(e)}},window.FireSegmentIOTrack=function(e,t,n){try{var o;t=t||null,"undefined"!=typeof analytics?(o=APP.segment.getIntegrationObject(),null!=t?analytics.track(e,t,{integrations:o},n):analytics.track(e,{},{integrations:o},n),Array.isArray(analytics)&&n&&"function"==typeof n&&n()):n&&n()}catch(e){console.log(e)}},window.FireSegmentIOAlias=function(e){try{"undefined"!=typeof analytics&&analytics.alias(e,{integrations:APP.segment.getIntegrationObject()})}catch(e){console.log(e)}},window.TrackUTMEvents=function(e){var t,n={"UTM Source first touch":jsUtility.getParameterByName("utm_source"),"UTM Medium first touch":jsUtility.getParameterByName("utm_medium"),"UTM Term first touch":jsUtility.getParameterByName("utm_term"),"UTM Content first touch":jsUtility.getParameterByName("utm_content"),"UTM Campaign first touch":jsUtility.getParameterByName("utm_campaign")},o={};for(t in n)n[t]&&(o[t]=n[t]);o||FireSegmentIOIdentify(e,o,!1,!0)},window.TrackPageEvents=function(e,t){TrackPageEventsFinal(e,t)},window.TrackPageEventsFinal=function(e,t){"undefined"!=typeof mixpanel&&void 0!==mixpanel.get_distinct_id&&jsUtility.set_Cookie("screenWidth",window.innerWidth);var n,o={};for(n in e)e[n]&&(o[n]=e[n]);TrackEvents("page",o,null,t)},!true&&/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&APP.segment.load(),false){let t=0,n=3600;var intervalAnalytics=setInterval(()=>{t++;var e=APP.isStorageEnabled?localStorage.getItem("ConsentType"):"";(e||t>=n)&&(clearInterval(intervalAnalytics),e)&&"GDPR"!=e&&APP.segment.load()},50)}if("true"==jsUtility.getParameterByName("psthrowerror"))for(let e=0;e<5;e++)console.log(UNDEFINED_VARIABLE);